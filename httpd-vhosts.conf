# -*- mode:apache -*-
#  Virtual Hosts
#
# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at
# <URL:http://httpd.apache.org/docs/2.2/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

# helpful:
# https://mallinson.ca/osx-web-development/


# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#

# home specific rules for 'users'
<Virtualhost *:80>
    ####
    ServerName home.lan

    DocumentRoot ${HTTPD_DOCUMENT_ROOT}

    <IfModule mod_userdir.c>
        UserDir ${HTTPD_DOCUMENT_ROOT}/clients
    </IfModule>

    <IfModule mod_headers.c>
        Header set HTTP-BYOB "home"
    </IfModule>
</Virtualhost>

# <Virtualhost *:80>
#     ServerAlias phpmyadmin.lan
#     DocumentRoot ${HTTPD_DOCUMENT_ROOT}/phpmyadmin
# </Virtualhost>

# <VirtualHost *:80>
#     UseCanonicalName    Off
#     ServerName services.lan
#     DocumentRoot "${HTTPD_DOCUMENT_ROOT}/services"
#     <Directory "${HTTPD_DOCUMENT_ROOT}/services">
#         Options +Indexes
#     </Directory>
# </VirtualHost>

# <Virtualhost *:80 *:443>
# # EG http://paxperscientiam.worth-the-weight.com.com.lan/
#     VirtualDocumentRoot "${HTTPD_DOCUMENT_ROOT}/clients/%1/%2.0.%3.0"
#     ServerAlias *.clients.lan
#     UseCanonicalName Off

#     ServerSignature Off
#     SetEnv APPLICATION_ENV "development"
#     Header set DevUnsecure "%D %t"

#     <IfModule mod_headers.c>
#         Header set HTTP-BYOB "client"
#     </IfModule>

# </Virtualhost>

<Virtualhost *:80>
    ServerName worth-the-weight.lan
    DocumentRoot /users/ramos/www/worth-the-weight/wtw.paxperscientiam.com
</Virtualhost>


<Virtualhost *:80 *:443>
    # %-2+ means penultimate and all preceding parts
    # eg: http://paxperscientiam.com.lan/ <= /usr/local/docs/paxperscientiam.com/public
    VirtualDocumentRoot "${HTTPD_DOCUMENT_ROOT}/%-2+/%-2+"
    ServerAlias *.lan
    UseCanonicalName Off

    ServerSignature Off
    SetEnv APPLICATION_ENV "development"
    Header set DevUnsecure "%D %t"

    <IfModule mod_headers.c>
        Header set HTTP-BYOB "pax per scientiam"
    </IfModule>

</Virtualhost>
